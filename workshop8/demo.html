

<script type="text/javascript">

function filterItemByPants(items) {
	return items.filter({ 'name' : 'pants' });
}



function findItem( itemName ) {
	return $.getJSON('/items', filterItemByPants);
}

var item = findItem('pants');

console.log(item);  // what’s wrong with this?






// Promises Creation example using jquery's library
function userCanDrink( age ) {
	var deferred = $.Deferred();
	$.getJSON('/agelimit/us', function ( limit ) {
		if ( age > limit ) {
			deferred.resolve("yes");
		} else {
			deferred.resolve("no");
			}
	})
	.fail(function () {
		deferred.reject(‘Problem communicating with the server.’);
	});

	return deferred.promise();
}

userCanDrink(21)
	.then(
		function (canDrink) {
			console.log(canDrink);
		},
		function (err) {
			console.log(err);
		}
	);


</script>
